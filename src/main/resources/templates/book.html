<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${book.title}">Book Details</title>
    <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
<!-- Include la navbar -->
<div th:replace="~{fragments/navbar :: navbar}"></div>

<!-- Dettagli del libro -->
<div id="app" class="book-details">
    <h1 th:text="${book.title}">Titolo del libro</h1>

    <p><strong>Anno di pubblicazione:</strong> <span th:text="${book.publicationYear}">2025</span></p>

    <!-- Copertina -->
    <div class="book-cover">
        <img th:src="@{'/book/' + ${book.id} + '/cover'}" th:alt="${book.title}" onerror="this.onerror=null;this.src='/images/coverPlaceholder.png';">
    </div>

    <!-- Altre immagini -->
    <div class="book-images">
        <h3>Immagini del libro</h3>
        <div th:each="img : ${book.images}">
            <img th:src="@{/images/{file}(file=${img.fileName})}" alt="Immagine del libro">
        </div>
    </div>

    <!-- Autori -->
    <div class="book-authors">
        <h3>Autori</h3>
        <ul>
            <li th:each="author : ${book.authors}" th:text="${author.name}">Autore</li>
        </ul>
    </div>

    <!-- Recensioni -->
    <div class="book-reviews">
        <h3>Recensioni</h3>
        <div th:each="review : ${book.reviews}">
            <p>
                <strong th:text="${review.reviewerName}">Nome recensore</strong>:
                <span th:text="${review.comment}">Commento</span>
            </p>
        </div>
    </div>
</div>

</body>
</html>
